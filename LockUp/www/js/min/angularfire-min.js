!function(e){"use strict";angular.module("firebase",[]).value("Firebase",e.Firebase).value("firebaseBatchDelay",50)}(window),function(){"use strict";angular.module("firebase").factory("$firebaseArray",["$log","$firebaseUtils",function(e,t){function r(e){if(!(this instanceof r))return new r(e);var i=this;return this._observers=[],this.$list=[],this._ref=e,this._sync=new n(this),t.assertValidRef(e,"Must pass a valid Firebase reference to $firebaseArray (not a string or URL)"),this._indexCache={},t.getPublicMethods(i,function(e,t){i.$list[t]=e.bind(i)}),this._sync.init(this.$list),this.$list}function n(r){function n(e){if(!p.isDestroyed){p.isDestroyed=!0;var t=r.$ref();t.off("child_added",u),t.off("child_moved",f),t.off("child_changed",c),t.off("child_removed",h),r=null,y(e||"destroyed")}}function i(t){var n=r.$ref();n.on("child_added",u,d),n.on("child_moved",f,d),n.on("child_changed",c,d),n.on("child_removed",h,d),n.once("value",function(r){angular.isArray(r.val())&&e.warn("Storing data using array indices in Firebase can result in unexpected behavior. See https://www.firebase.com/docs/web/guide/understanding-data.html#section-arrays-in-firebase for more information."),y(null,t)},y)}function o(e,t){l||(l=!0,e?a.reject(e):a.resolve(t))}var a=t.defer(),s=t.batch(),u=s(function(e,t){var n=r.$$added(e,t);n&&r.$$process("child_added",n,t)}),c=s(function(e){var n=r.$getRecord(t.getKey(e));if(n){var i=r.$$updated(e);i&&r.$$process("child_changed",n)}}),f=s(function(e,n){var i=r.$getRecord(t.getKey(e));if(i){var o=r.$$moved(e,n);o&&r.$$process("child_moved",i,n)}}),h=s(function(e){var n=r.$getRecord(t.getKey(e));if(n){var i=r.$$removed(e);i&&r.$$process("child_removed",n)}}),l=!1,d=s(function(e){o(e),r.$$error(e)}),y=s(o),p={destroy:n,isDestroyed:!1,init:i,ready:function(){return a.promise}};return p}return r.prototype={$add:function(e){this._assertNotDestroyed("$add");var r=t.defer(),n=this.$ref().ref().push();return n.set(t.toJSON(e),t.makeNodeResolver(r)),r.promise.then(function(){return n})},$save:function(e){this._assertNotDestroyed("$save");var r=this,n=r._resolveItem(e),i=r.$keyAt(n);if(null!==i){var o=r.$ref().ref().child(i),a=t.toJSON(n);return t.doSet(o,a).then(function(){return r.$$notify("child_changed",i),o})}return t.reject("Invalid record; could determine key for "+e)},$remove:function(e){this._assertNotDestroyed("$remove");var r=this.$keyAt(e);if(null!==r){var n=this.$ref().ref().child(r);return t.doRemove(n).then(function(){return n})}return t.reject("Invalid record; could not determine key for "+e)},$keyAt:function(e){var t=this._resolveItem(e);return this.$$getKey(t)},$indexFor:function(e){var t=this,r=t._indexCache;if(!r.hasOwnProperty(e)||t.$keyAt(r[e])!==e){var n=t.$list.findIndex(function(r){return t.$$getKey(r)===e});-1!==n&&(r[e]=n)}return r.hasOwnProperty(e)?r[e]:-1},$loaded:function(e,t){var r=this._sync.ready();return arguments.length&&(r=r.then.call(r,e,t)),r},$ref:function(){return this._ref},$watch:function(e,t){var r=this._observers;return r.push([e,t]),function(){var n=r.findIndex(function(r){return r[0]===e&&r[1]===t});n>-1&&r.splice(n,1)}},$destroy:function(t){this._isDestroyed||(this._isDestroyed=!0,this._sync.destroy(t),this.$list.length=0,e.debug("destroy called for FirebaseArray: "+this.$ref().ref().toString()))},$getRecord:function(e){var t=this.$indexFor(e);return t>-1?this.$list[t]:null},$$added:function(e){var r=this.$indexFor(t.getKey(e));if(-1===r){var n=e.val();return angular.isObject(n)||(n={$value:n}),n.$id=t.getKey(e),n.$priority=e.getPriority(),t.applyDefaults(n,this.$$defaults),n}return!1},$$removed:function(e){return this.$indexFor(t.getKey(e))>-1},$$updated:function(e){var r=!1,n=this.$getRecord(t.getKey(e));return angular.isObject(n)&&(r=t.updateRec(n,e),t.applyDefaults(n,this.$$defaults)),r},$$moved:function(e){var r=this.$getRecord(t.getKey(e));return angular.isObject(r)?(r.$priority=e.getPriority(),!0):!1},$$error:function(t){e.error(t),this.$destroy(t)},$$getKey:function(e){return angular.isObject(e)?e.$id:null},$$process:function(e,t,r){var n,i=this.$$getKey(t),o=!1;switch(e){case"child_added":n=this.$indexFor(i);break;case"child_moved":n=this.$indexFor(i),this._spliceOut(i);break;case"child_removed":o=null!==this._spliceOut(i);break;case"child_changed":o=!0;break;default:throw new Error("Invalid event type: "+e)}return angular.isDefined(n)&&(o=this._addAfter(t,r)!==n),o&&this.$$notify(e,i,r),o},$$notify:function(e,t,r){var n={event:e,key:t};angular.isDefined(r)&&(n.prevChild=r),angular.forEach(this._observers,function(e){e[0].call(e[1],n)})},_addAfter:function(e,t){var r;return null===t?r=0:(r=this.$indexFor(t)+1,0===r&&(r=this.$list.length)),this.$list.splice(r,0,e),this._indexCache[this.$$getKey(e)]=r,r},_spliceOut:function(e){var t=this.$indexFor(e);return t>-1?(delete this._indexCache[e],this.$list.splice(t,1)[0]):null},_resolveItem:function(e){var t=this.$list;if(angular.isNumber(e)&&e>=0&&t.length>=e)return t[e];if(angular.isObject(e)){var r=this.$$getKey(e),n=this.$getRecord(r);return n===e?n:null}return null},_assertNotDestroyed:function(e){if(this._isDestroyed)throw new Error("Cannot call "+e+" method on a destroyed $firebaseArray object")}},r.$extend=function(e,n){return 1===arguments.length&&angular.isObject(e)&&(n=e,e=function(){return r.apply(this,arguments)}),t.inherit(e,r,n)},r}]),angular.module("firebase").factory("$FirebaseArray",["$log","$firebaseArray",function(e,t){return function(){return e.warn("$FirebaseArray has been renamed. Use $firebaseArray instead."),t.apply(null,arguments)}}])}(),function(){"use strict";var e;angular.module("firebase").factory("$firebaseAuth",["$q","$firebaseUtils","$log",function(t,r,n){return function(i){var o=new e(t,r,n,i);return o.construct()}}]),e=function(e,t,r,n){if(this._q=e,this._utils=t,this._log=r,"string"==typeof n)throw new Error("Please provide a Firebase reference instead of a URL when creating a `$firebaseAuth` object.");this._ref=n},e.prototype={construct:function(){return this._object={$authWithCustomToken:this.authWithCustomToken.bind(this),$authAnonymously:this.authAnonymously.bind(this),$authWithPassword:this.authWithPassword.bind(this),$authWithOAuthPopup:this.authWithOAuthPopup.bind(this),$authWithOAuthRedirect:this.authWithOAuthRedirect.bind(this),$authWithOAuthToken:this.authWithOAuthToken.bind(this),$unauth:this.unauth.bind(this),$onAuth:this.onAuth.bind(this),$getAuth:this.getAuth.bind(this),$requireAuth:this.requireAuth.bind(this),$waitForAuth:this.waitForAuth.bind(this),$createUser:this.createUser.bind(this),$changePassword:this.changePassword.bind(this),$changeEmail:this.changeEmail.bind(this),$removeUser:this.removeUser.bind(this),$resetPassword:this.resetPassword.bind(this)},this._object},authWithCustomToken:function(e,t){var r=this._q.defer();try{this._ref.authWithCustomToken(e,this._utils.makeNodeResolver(r),t)}catch(n){r.reject(n)}return r.promise},authAnonymously:function(e){var t=this._q.defer();try{this._ref.authAnonymously(this._utils.makeNodeResolver(t),e)}catch(r){t.reject(r)}return t.promise},authWithPassword:function(e,t){var r=this._q.defer();try{this._ref.authWithPassword(e,this._utils.makeNodeResolver(r),t)}catch(n){r.reject(n)}return r.promise},authWithOAuthPopup:function(e,t){var r=this._q.defer();try{this._ref.authWithOAuthPopup(e,this._utils.makeNodeResolver(r),t)}catch(n){r.reject(n)}return r.promise},authWithOAuthRedirect:function(e,t){var r=this._q.defer();try{this._ref.authWithOAuthRedirect(e,this._utils.makeNodeResolver(r),t)}catch(n){r.reject(n)}return r.promise},authWithOAuthToken:function(e,t,r){var n=this._q.defer();try{this._ref.authWithOAuthToken(e,t,this._utils.makeNodeResolver(n),r)}catch(i){n.reject(i)}return n.promise},unauth:function(){null!==this.getAuth()&&this._ref.unauth()},onAuth:function(e,t){var r=this,n=this._utils.debounce(e,t,0);return this._ref.onAuth(n),function(){r._ref.offAuth(n)}},getAuth:function(){return this._ref.getAuth()},_routerMethodOnAuthPromise:function(e){var t=this._ref;return this._utils.promise(function(r,n){function i(o){return t.offAuth(i),null!==o?void r(o):e?void n("AUTH_REQUIRED"):void r(null)}t.onAuth(i)})},requireAuth:function(){return this._routerMethodOnAuthPromise(!0)},waitForAuth:function(){return this._routerMethodOnAuthPromise(!1)},createUser:function(e){var t=this._q.defer();if("string"==typeof e)throw new Error("$createUser() expects an object containing 'email' and 'password', but got a string.");try{this._ref.createUser(e,this._utils.makeNodeResolver(t))}catch(r){t.reject(r)}return t.promise},changePassword:function(e){var t=this._q.defer();if("string"==typeof e)throw new Error("$changePassword() expects an object containing 'email', 'oldPassword', and 'newPassword', but got a string.");try{this._ref.changePassword(e,this._utils.makeNodeResolver(t))}catch(r){t.reject(r)}return t.promise},changeEmail:function(e){if("function"!=typeof this._ref.changeEmail)throw new Error("$changeEmail() expects an object containing 'oldEmail', 'newEmail', and 'password', but got a string.");var t=this._q.defer();try{this._ref.changeEmail(e,this._utils.makeNodeResolver(t))}catch(r){t.reject(r)}return t.promise},removeUser:function(e){var t=this._q.defer();if("string"==typeof e)throw new Error("$removeUser() expects an object containing 'email' and 'password', but got a string.");try{this._ref.removeUser(e,this._utils.makeNodeResolver(t))}catch(r){t.reject(r)}return t.promise},resetPassword:function(e){var t=this._q.defer();if("string"==typeof e)throw new Error("$resetPassword() expects an object containing 'email', but got a string.");try{this._ref.resetPassword(e,this._utils.makeNodeResolver(t))}catch(r){t.reject(r)}return t.promise}}}(),function(){"use strict";angular.module("firebase").factory("$firebaseObject",["$parse","$firebaseUtils","$log",function(e,t,r){function n(e){return this instanceof n?(this.$$conf={sync:new o(this,e),ref:e,binding:new i(this),listeners:[]},Object.defineProperty(this,"$$conf",{value:this.$$conf}),this.$id=t.getKey(e.ref()),this.$priority=null,t.applyDefaults(this,this.$$defaults),void this.$$conf.sync.init()):new n(e)}function i(e){this.subs=[],this.scope=null,this.key=null,this.rec=e}function o(e,n){function i(t){d.isDestroyed||(d.isDestroyed=!0,n.off("value",f),e=null,l(t||"destroyed"))}function o(){n.on("value",f,h),n.once("value",function(e){angular.isArray(e.val())&&r.warn("Storing data using array indices in Firebase can result in unexpected behavior. See https://www.firebase.com/docs/web/guide/understanding-data.html#section-arrays-in-firebase for more information. Also note that you probably wanted $firebaseArray and not $firebaseObject."),l(null)},l)}function a(t){s||(s=!0,t?u.reject(t):u.resolve(e))}var s=!1,u=t.defer(),c=t.batch(),f=c(function(t){var r=e.$$updated(t);r&&e.$$notify()}),h=c(e.$$error,e),l=c(a),d={isDestroyed:!1,destroy:i,init:o,ready:function(){return u.promise}};return d}return n.prototype={$save:function(){var e=this,r=e.$ref(),n=t.toJSON(e);return t.doSet(r,n).then(function(){return e.$$notify(),e.$ref()})},$remove:function(){var e=this;return t.trimKeys(e,{}),e.$value=null,t.doRemove(e.$ref()).then(function(){return e.$$notify(),e.$ref()})},$loaded:function(e,t){var r=this.$$conf.sync.ready();return arguments.length&&(r=r.then.call(r,e,t)),r},$ref:function(){return this.$$conf.ref},$bindTo:function(e,t){var r=this;return r.$loaded().then(function(){return r.$$conf.binding.bindTo(e,t)})},$watch:function(e,t){var r=this.$$conf.listeners;return r.push([e,t]),function(){var n=r.findIndex(function(r){return r[0]===e&&r[1]===t});n>-1&&r.splice(n,1)}},$destroy:function(e){var r=this;r.$isDestroyed||(r.$isDestroyed=!0,r.$$conf.sync.destroy(e),r.$$conf.binding.destroy(),t.each(r,function(e,t){delete r[t]}))},$$updated:function(e){var r=t.updateRec(this,e);return t.applyDefaults(this,this.$$defaults),r},$$error:function(e){r.error(e),this.$destroy(e)},$$scopeUpdated:function(e){var r=t.defer();return this.$ref().set(t.toJSON(e),t.makeNodeResolver(r)),r.promise},$$notify:function(){var e=this,t=this.$$conf.listeners.slice();angular.forEach(t,function(t){t[0].call(t[1],{event:"value",key:e.$id})})},forEach:function(e,r){return t.each(this,e,r)}},n.$extend=function(e,r){return 1===arguments.length&&angular.isObject(e)&&(r=e,e=function(){n.apply(this,arguments)}),t.inherit(e,n,r)},i.prototype={assertNotBound:function(e){if(this.scope){var n="Cannot bind to "+e+" because this instance is already bound to "+this.key+"; one binding per instance (call unbind method or create another FirebaseObject instance)";return r.error(n),t.reject(n)}},bindTo:function(r,n){function i(i){function o(e){return angular.equals(e,f)&&e.$priority===f.$priority&&e.$value===f.$value}function a(e){c.assign(r,t.scopeData(e))}function s(){var e=c(r);return[e,e.$priority,e.$value]}var u=!1,c=e(n),f=i.rec;i.scope=r,i.varName=n;var h=t.debounce(function(e){var n=t.scopeData(e);f.$$scopeUpdated(n)["finally"](function(){u=!1,n.hasOwnProperty("$value")||(delete f.$value,delete c(r).$value)})},50,500),l=function(e){e=e[0],o(e)||(u=!0,h(e))},d=function(){u||o(c(r))||a(f)};return a(f),i.subs.push(r.$on("$destroy",i.unbind.bind(i))),i.subs.push(r.$watch(s,l,!0)),i.subs.push(f.$watch(d)),i.unbind.bind(i)}return this.assertNotBound(n)||i(this)},unbind:function(){this.scope&&(angular.forEach(this.subs,function(e){e()}),this.subs=[],this.scope=null,this.key=null)},destroy:function(){this.unbind(),this.rec=null}},n}]),angular.module("firebase").factory("$FirebaseObject",["$log","$firebaseObject",function(e,t){return function(){return e.warn("$FirebaseObject has been renamed. Use $firebaseObject instead."),t.apply(null,arguments)}}])}(),function(){"use strict";angular.module("firebase").factory("$firebase",function(){return function(){throw new Error("$firebase has been removed. You may instantiate $firebaseArray and $firebaseObject directly now. For simple write operations, just use the Firebase ref directly. See the AngularFire 1.0.0 changelog for details: https://www.firebase.com/docs/web/libraries/angular/changelog.html")}})}(),Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){if(void 0===this||null===this)throw new TypeError("'this' is null or not defined");var r=this.length>>>0;for(t=+t||0,1/0===Math.abs(t)&&(t=0),0>t&&(t+=r,0>t&&(t=0));r>t;t++)if(this[t]===e)return t;return-1}),Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),r=this,n=function(){},i=function(){return r.apply(this instanceof n&&e?this:e,t.concat(Array.prototype.slice.call(arguments)))};return n.prototype=this.prototype,i.prototype=new n,i}),Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(null==this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,r=Object(this),n=r.length>>>0,i=arguments[1],o=0;n>o;o++)if(o in r&&(t=r[o],e.call(i,t,o,r)))return o;return-1}}),"function"!=typeof Object.create&&!function(){var e=function(){};Object.create=function(t){if(arguments.length>1)throw new Error("Second argument not supported");if(null===t)throw new Error("Cannot set a null [[Prototype]]");if("object"!=typeof t)throw new TypeError("Argument must be an object");return e.prototype=t,new e}}(),Object.keys||(Object.keys=function(){"use strict";var e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),r=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],n=r.length;return function(i){if("object"!=typeof i&&("function"!=typeof i||null===i))throw new TypeError("Object.keys called on non-object");var o,a,s=[];for(o in i)e.call(i,o)&&s.push(o);if(t)for(a=0;n>a;a++)e.call(i,r[a])&&s.push(r[a]);return s}}()),"function"!=typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"==typeof"test".__proto__?function(e){return e.__proto__}:function(e){return e.constructor.prototype}),function(){"use strict";function e(t){if(!angular.isObject(t))return t;var r=angular.isArray(t)?[]:{};return angular.forEach(t,function(t,n){("string"!=typeof n||"$"!==n.charAt(0))&&(r[n]=e(t))}),r}angular.module("firebase").factory("$firebaseConfig",["$firebaseArray","$firebaseObject","$injector",function(e,t,r){return function(n){var i=angular.extend({},n);return"string"==typeof i.objectFactory&&(i.objectFactory=r.get(i.objectFactory)),"string"==typeof i.arrayFactory&&(i.arrayFactory=r.get(i.arrayFactory)),angular.extend({arrayFactory:e,objectFactory:t},i)}}]).factory("$firebaseUtils",["$q","$timeout","firebaseBatchDelay",function(t,r,n){function i(e){function r(e){i.resolve(e)}function n(e){i.reject(e)}if(!angular.isFunction(e))throw new Error("missing resolver function");var i=t.defer();return e(r,n),i.promise}var o={batch:function(e,t){function r(e,t){if("function"!=typeof e)throw new Error("Must provide a function to be batched. Got "+e);return function(){var r=Array.prototype.slice.call(arguments,0);f.push([e,t,r]),i()}}function i(){u&&(u(),u=null),s&&Date.now()-s>t?c||(c=!0,o.compile(a)):(s||(s=Date.now()),u=o.wait(a,e))}function a(){u=null,s=null,c=!1;var e=f.slice(0);f=[],angular.forEach(e,function(e){e[0].apply(e[1],e[2])})}e=n,t||(t=10*e||100);var s,u,c,f=[];return r},debounce:function(e,t,r,n){function i(){c&&(c(),c=null),u&&Date.now()-u>n?h||(h=!0,o.compile(a)):(u||(u=Date.now()),c=o.wait(a,r))}function a(){c=null,u=null,h=!1,e.apply(t,f)}function s(){f=Array.prototype.slice.call(arguments,0),i()}var u,c,f,h;if("number"==typeof t&&(n=r,r=t,t=null),"number"!=typeof r)throw new Error("Must provide a valid integer for wait. Try 0 for a default");if("function"!=typeof e)throw new Error("Must provide a valid function to debounce");return n||(n=10*r||100),s.running=function(){return u>0},s},assertValidRef:function(e,t){if(!angular.isObject(e)||"function"!=typeof e.ref||"function"!=typeof e.ref().transaction)throw new Error(t||"Invalid Firebase reference")},inherit:function(e,t,r){var n=e.prototype;return e.prototype=Object.create(t.prototype),e.prototype.constructor=e,angular.forEach(Object.keys(n),function(t){e.prototype[t]=n[t]}),angular.isObject(r)&&angular.extend(e.prototype,r),e},getPrototypeMethods:function(e,t,r){for(var n={},i=Object.getPrototypeOf({}),o=angular.isFunction(e)&&angular.isObject(e.prototype)?e.prototype:Object.getPrototypeOf(e);o&&o!==i;){for(var a in o)o.hasOwnProperty(a)&&!n.hasOwnProperty(a)&&(n[a]=!0,t.call(r,o[a],a,o));o=Object.getPrototypeOf(o)}},getPublicMethods:function(e,t,r){o.getPrototypeMethods(e,function(e,n){"function"==typeof e&&"_"!==n.charAt(0)&&t.call(r,e,n)})},defer:t.defer,reject:t.reject,resolve:t.when,promise:angular.isFunction(t)?t:i,makeNodeResolver:function(e){return function(t,r){null===t?(arguments.length>2&&(r=Array.prototype.slice.call(arguments,1)),e.resolve(r)):e.reject(t)}},wait:function(e,t){var n=r(e,t||0);return function(){n&&(r.cancel(n),n=null)}},compile:function(e){return r(e||function(){})},deepCopy:function(e){if(!angular.isObject(e))return e;var t=angular.isArray(e)?e.slice():angular.extend({},e);for(var r in t)t.hasOwnProperty(r)&&angular.isObject(t[r])&&(t[r]=o.deepCopy(t[r]));return t},trimKeys:function(e,t){o.each(e,function(r,n){t.hasOwnProperty(n)||delete e[n]})},scopeData:function(e){var t={$id:e.$id,$priority:e.$priority},r=!1;return o.each(e,function(e,n){r=!0,t[n]=o.deepCopy(e)}),!r&&e.hasOwnProperty("$value")&&(t.$value=e.$value),t},updateRec:function(e,t){var r=t.val(),n=angular.extend({},e);return angular.isObject(r)?delete e.$value:(e.$value=r,r={}),o.trimKeys(e,r),angular.extend(e,r),e.$priority=t.getPriority(),!angular.equals(n,e)||n.$value!==e.$value||n.$priority!==e.$priority},applyDefaults:function(e,t){return angular.isObject(t)&&angular.forEach(t,function(t,r){e.hasOwnProperty(r)||(e[r]=t)}),e},dataKeys:function(e){var t=[];return o.each(e,function(e,r){t.push(r)}),t},each:function(e,t,r){if(angular.isObject(e)){for(var n in e)if(e.hasOwnProperty(n)){var i=n.charAt(0);"_"!==i&&"$"!==i&&"."!==i&&t.call(r,e[n],n,e)}}else if(angular.isArray(e))for(var o=0,a=e.length;a>o;o++)t.call(r,e[o],o,e);return e},getKey:function(e){return"function"==typeof e.key?e.key():e.name()},toJSON:function(t){var r;return angular.isObject(t)||(t={$value:t}),angular.isFunction(t.toJSON)?r=t.toJSON():(r={},o.each(t,function(t,n){r[n]=e(t)})),angular.isDefined(t.$value)&&0===Object.keys(r).length&&null!==t.$value&&(r[".value"]=t.$value),angular.isDefined(t.$priority)&&Object.keys(r).length>0&&null!==t.$priority&&(r[".priority"]=t.$priority),angular.forEach(r,function(e,t){if(t.match(/[.$\[\]#\/]/)&&".value"!==t&&".priority"!==t)throw new Error("Invalid key "+t+" (cannot contain .$[]#)");if(angular.isUndefined(e))throw new Error("Key "+t+" was undefined. Cannot pass undefined in JSON. Use null instead.")}),r},doSet:function(e,t){var r=o.defer();if(angular.isFunction(e.set)||!angular.isObject(t))e.set(t,o.makeNodeResolver(r));else{var n=angular.extend({},t);e.once("value",function(t){t.forEach(function(e){n.hasOwnProperty(o.getKey(e))||(n[o.getKey(e)]=null)}),e.ref().update(n,o.makeNodeResolver(r))},function(e){r.reject(e)})}return r.promise},doRemove:function(e){var t=o.defer();return angular.isFunction(e.remove)?e.remove(o.makeNodeResolver(t)):e.once("value",function(r){var n=[];r.forEach(function(e){var r=o.defer();n.push(r.promise),e.ref().remove(o.makeNodeResolver(t))}),o.allPromises(n).then(function(){t.resolve(e)},function(e){t.reject(e)})},function(e){t.reject(e)}),t.promise},VERSION:"1.0.0",batchDelay:n,allPromises:t.all.bind(t)};return o}])}();